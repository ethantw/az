
$k-bg-share = darken( $k-bg, 7% )

main.layout
  #in
    // posi
    position relative
    margin 1rem auto
    // box
    display block
    width 96%
  textarea,
  #share
    // box
    display none
    height 10em 
    max-height 45vh
    width 100%
    padding .25em .5em
    resize vertical
    // typo
    font-size 20px
    // style
    background-color $k-bg-input
    border 1px solid $k-bd-input
    border-radius .5rem
    border-bottom-right-radius 0
    color #666
    outline 0

    &:hover,
    &:focus
      border-color $k-bd-input
      color #333
    &[readonly]
      color #aaa
  #share
    background-color $k-bg-share
  #code,
  #share input
    white-space pre
    word-wrap normal

#in.input #input,
#in.code #code,
#in.share #share
    display block
#in.input .input button
#in.code  .code button
  background-color $k-bg-input
  border-top-color $k-bg-input
#in.share .share button
  background-color $k-bg-share
  border-top-color $k-bg-share

#utility
  // posi
  position relative
  margin-top -1px
  // box
  padding 0
  // typo
  list-style none
  text-align right

  li
    // posi
    margin-left -1px
    // box
    display inline-block
  li:last-child
    margin-right 1px
  button
    // box
    padding .4em .6em .3em
    height auto
    width @height
    // typo
    font-size .9em
    // style
    background none darken( $k-bg, 2% )
    border 1px solid $k-bd-input
    border-bottom-left-radius  .2em
    border-bottom-right-radius .2em
    color darken( $k-bd-input, 40% )
  button:before // icons
    // posi
    margin-right .2em
    // style
    color #555
  .input button
    fh( align-justify )
  .code button
    fh( code )
  .share button
    fh( share-alt )

  .lock button
    // posi
    position absolute
    left .05em
    top 0
    // box
    padding-top .7em
    height 2em
    width @height
    // typo
    fh( unlock-alt )
    fh-hide-text()
    // style
    background none
    border 0
  .locked & .lock button
    fh( lock )

#share
  #url
    // posi
    margin 1em auto
    // box
    display block
    width 80%
    padding .125em .05em
    resize none
    // style
    border 1px solid darken( $k-bg-share, 40% )
    border-radius .125em
    outline none
  #url:focus
    box-shadow:
      -1px 0 1px $k-bg-share,
       1px 0 1px $k-bg-share,
      0 -1px 1px $k-bg-share,
      0  1px 1px $k-bg-share,
      0 0 5px $k-danger;
  ul
    // box
    padding 1em 0 0
    // typo
    list-style none
    text-align center
  li
    // posi
    margin 0 .5em
    // box
    display inline-block
  button
    fh-hide-text()
    // box
    height 1.3em
    resize none
    // typo
    font-size 1.6em
    // style
    background none
    border 0
  button:before
    color #7a5a3f
  button:hover:before
    color #000
  .twitter
    fh( twitter )
  .facebook
    fh( facebook )
  .google
    fh( google-plus )
  .weibo
    fh( weibo )

#in.share + #out article
  a-z:before
    content none !important
  button.speaker
    display none !important

article
  // posi
  margin 3rem auto
  // box
  width 96%
  padding 0 0 7em
  // typo
  font-family $serif
  font-size 1.5em
  line-height 2.5

  :link,
  :visited
    color lighten( $k-primary, 5% )
  a:hover
    color $k-danger
  a:active
    color darken( $k-danger, 20% )
  rt
    font-family $sans
  
#out
  // posi
  position: relative

  a-z
    // posi
    position relative
    cursor pointer
    // box
    display inline-block
  a-z:before
    // posi
    position absolute
    left 50%
    margin 2em 0 0 -.45em
    // box
    content ''
    display inline-block
    overflow hidden
    height .25em
    width @height
    // style
    background-color $k-primary
    border-radius 50%
    padding .15em

    [data-system='zhuyin'] &
      margin-left -.45em
    [data-system='both'] &
      margin-top 2.5em
    [data-system='both'] &,
    [data-system='pinyin'] &,
    [data-system='wg'] &
      margin-left -.125em
      
  a-z:not(:hover):before
    opacity .7
  a-z.picked:before
    background-color $k-info
  a-z.picking
    rb
      color #706363
    h-zhuyin,
    rt
      color #c84332
  a-z.picking:before
    // posi
    z-index 10
    margin 1.9em 0 0 -.55em
    // style
    background-color $k-danger
    border .1em solid #fff
    opacity 1

    [data-system='zhuyin'] &
      margin-left -.55em
    [data-system='both'] &
      margin-top 2.4em
    [data-system='both'] &,
    [data-system='pinyin'] &,
    [data-system='wg'] &
      margin-left -.23em
    
button.speaker
  // posi
  margin-top .1em
  // box
  height 1.2em
  width @height
  // typo
  font-family $sans
  font-size .8em
  line-height 1.2*.7
  vertical-align text-top
  // style
  background none
  border 0
  // icon
  fh-hide-text()
  +fh( play )
    font-size .7em
    color darken( $k-success, 10% )

#pickr
  @extend $han-zhuyin
  // posi
  position absolute
  margin 2.7em 0 0 .25em
  // box
  min-width 4em
  padding .5em 1em
  // typo
  line-height 1.8
  list-style none
  counter-reset yin
  // style
  background-color #fff
  border-bottom 2px solid rgba( $k-success, .7 )
  border-radius .5em

  [data-system='both'] &
    margin 3.5em 0 0 .8em
  [data-system='pinyin'] &,
  [data-system='wg'] &
    margin-top 2.8em

  &
    display none
  .picking &
    display block
    display -webkit-flex
    display flex

  li
    // posi
    margin-right .5em
    // box
    display inline-block
    // typo
    font-family $zhuyin, $sans
    font-size 2em
    font-weight 200
    text-align left
    // style
    cursor pointer
  li:before
    // posi
    margin 0 .3em
    // box
    vertical-align middle
    // typo
    counter-increment yin
    content counter( yin )
    font-size .5em
    // style
    color #999
  li.current,
  li:hover
    text-shadow 0 0 .2em $k-info
  li:last-child
    margin-right .125em
  [data-display='pinyin'] & li
    font-size 1.2em

    &:before
      vertical-align baseline
      font-size .75em

